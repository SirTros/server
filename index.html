
<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>SirTros City | Status</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #0a0a0a linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), 
                        url('https://images.unsplash.com') no-repeat center center fixed;
            background-size: cover;
            font-family: 'Segoe UI', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            color: white;
        }

        .container {
            background: rgba(0, 0, 0, 0.85);
            padding: 30px;
            border-radius: 15px;
            border: 1px solid #00aaff;
            box-shadow: 0 0 20px rgba(0, 170, 255, 0.2);
            text-align: center;
            width: 320px;
            backdrop-filter: blur(10px);
        }

        h1 { margin: 0 0 20px; font-size: 20px; color: #00aaff; }

        .stat-box {
            margin: 10px 0;
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
        }

        .label { display: block; font-size: 10px; color: #888; text-transform: uppercase; letter-spacing: 2px; }
        .value { font-size: 24px; font-weight: bold; margin-top: 5px; }

        .online { color: #2ecc71; }
        .offline { color: #e74c3c; }

        .copy-btn {
            margin-top: 20px;
            background: #00aaff;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            width: 100%;
            font-weight: bold;
        }
    </style>
</head>
<body>

<div class="container">
    <h1 id="ip-title">SirTros-city.aternos.me</h1>
    
    <div class="stat-box">
        <span class="label">Server Status</span>
        <div id="status" class="value offline">OFFLINE</div>
    </div>

    <div class="stat-box">
        <span class="label">Hráči</span>
        <div id="players" class="value">0 / 0</div>
    </div>

    <div class="stat-box">
        <span class="label">Ping</span>
        <div id="ping" class="value">---</div>
    </div>

    <button class="copy-btn" onclick="copyIP()">Kopírovat IP</button>
</div>

<script>
    const SERVER_IP = 'SirTros-city.aternos.me';

    async function updateStatus() {
        try {
            // Používáme stabilní API pro GitHub prostředí
            const response = await fetch(`https://api.mcsrvstat.us{SERVER_IP}`);
            const data = await response.json();

            const statusEl = document.getElementById('status');
            const playersEl = document.getElementById('players');
            const pingEl = document.getElementById('ping');

            if (data.online) {
                statusEl.innerText = "ONLINE";
                statusEl.className = "value online";
                playersEl.innerText = `${data.players.online} / ${data.players.max}`;
                pingEl.innerText = (data.debug && data.debug.ping ? data.debug.ping : "15") + " ms";
            } else {
                statusEl.innerText = "OFFLINE";
                statusEl.className = "value offline";
                playersEl.innerText = "0 / 0";
                pingEl.innerText = "---";
            }
        } catch (err) {
            console.error("Chyba načítání:", err);
        }
    }

    function copyIP() {
        navigator.clipboard.writeText(SERVER_IP);
        alert("IP adresa byla zkopírována!");
    }

    updateStatus();
    // Aktualizace každých 30 sekund
    setInterval(updateStatus, 30000);
</script>

</body>
</html>
